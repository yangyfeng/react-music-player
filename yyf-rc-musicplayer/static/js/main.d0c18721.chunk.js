(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a(32)},,,,,function(e,t,a){},,function(e,t,a){},,,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),s=a(9),c=a.n(s),r=a(1),o=a(2),l=a(5),u=a(3),m=a(4),h=a(6),p=[{id:1,title:"\u79bb\u4eba\u6101",artist:"\u674e\u8881\u6770",file:"http://111.202.98.146/amobile.music.tc.qq.com/C400002mxwrG3yeN6N.m4a?guid=2270910293&vkey=67C2495FAEA3205539323388D114AEF2889CFDDC8D3F1938CDEF9F636CB86845F833297FDC5C6DD3F27F66D09965A1DD09C49E30D1460480&uin=0&fromtag=66",cover:"https://y.gtimg.cn/music/photo_new/T002R300x300M000000UdHWo0S73xO.jpg?max_age=2592000"},{id:2,title:"\u7ea2\u662d\u613f",artist:"\u97f3\u9619\u8bd7\u542c",file:"http://111.202.98.147/amobile.music.tc.qq.com/C400003OU9ul1LEU9T.m4a?guid=2270910293&vkey=793C4C486041AD2ED9787CBC1BA73326A6C778BB1C5F9AD001E9460D5667FA6785FFA02B15AAB9C8613B4DEABA43FA8A907F922D747A6D0E&uin=0&fromtag=66",cover:"https://y.gtimg.cn/music/photo_new/T002R300x300M000004fqcR20kKXfn.jpg?max_age=2592000"},{id:3,title:"\u98ce\u7b5d\u8bef",artist:"\u5218\u73c2\u77e3",file:"http://111.202.98.147/amobile.music.tc.qq.com/C400003TJhNm0wDZtR.m4a?guid=2270910293&vkey=3DFD6EEE4D7AD845F5C626B742688EE8D3117E3BA1E85080C7FBA0EB5A5B5D17A1DB4A8F7A7B8F45D5B2CA81FA93017BFE4579E872039C02&uin=0&fromtag=66",cover:"https://y.gtimg.cn/music/photo_new/T002R300x300M000002tw7zp0K9oT7.jpg?max_age=2592000"},{id:4,title:"\u7275\u4e1d\u620f",artist:"\u94f6\u4e34/Aki\u963f\u6770",file:"http://111.202.98.146/amobile.music.tc.qq.com/C400001WDWFD0luHJ1.m4a?guid=2270910293&vkey=BD4F48FA1C2D2658C994AFD240302D915C0EAAB9067E9FB13E97488EAE7BC0C17416A43D5638A6C5B00A295D0E1B69249DABA941C891C2DF&uin=0&fromtag=66",cover:"https://y.gtimg.cn/music/photo_new/T002R300x300M000000uGdjk1J7qA2.jpg?max_age=2592000"},{id:5,title:"\u534a\u58f6\u7eb1",artist:"\u5218\u73c2\u77e3",file:"http://111.202.98.145/amobile.music.tc.qq.com/C400003tOapB4aiTwv.m4a?guid=2069872164&vkey=C795BB17155CC08249CD76B2C8C592187B78ACB9116650A3AEF31BC266FC3D3DB50BEAB28CE5035C8D86707467C87DD178D7E2051E7CB717&uin=0&fromtag=66",cover:"https://y.gtimg.cn/music/photo_new/T002R300x300M0000009EZjm1c7iQe.jpg?max_age=2592000"},{id:6,title:"\u5927\u9c7c",artist:"\u5468\u6df1",file:"http://111.202.98.145/amobile.music.tc.qq.com/C400004OQ5Mt0EmEzv.m4a?guid=2069872164&vkey=16AD260549B6FAE3825EE9AA9D6BE720A9EC2C1B0FFF6EAD3399C6F8A2393BF542461AF94A82D5BD043CD5C89C04FA2D13EAEE2528040E89&uin=0&fromtag=66",cover:"https://y.gtimg.cn/music/photo_new/T002R300x300M000004Y7V4s3ug4cC.jpg?max_age=2592000"},{id:7,title:"\u68a6\u56de\u8fd8",artist:"\u5466\u732bUNEKO",file:"http://111.202.98.145/amobile.music.tc.qq.com/C400001lnMYm2NHv7h.m4a?guid=2069872164&vkey=67A3F1443BA6EF52B254289B4519F28E0D3ABBF761F8D49E17BCCADDC90939F76BC1A542D02283FD913A480F3FD1F34721DD2F3175A6CB51&uin=0&fromtag=66",cover:"https://y.gtimg.cn/music/photo_new/T002R300x300M000000wd19g0wTd0d.jpg?max_age=2592000"},{id:8,title:"\u8c82\u8749",artist:"\u6e29\u67da",file:"http://111.202.98.145/amobile.music.tc.qq.com/C4000003UwUu1pv2FP.m4a?guid=2069872164&vkey=4FB3AB5C6011946A0930F9283E6D15FCBEE3A5ED84663192D9CC22CE8EF53887F37B3C1615A289BE43654B63EDF7153E12BC8619C273C312&uin=0&fromtag=66",cover:"https://y.gtimg.cn/music/photo_new/T002R300x300M000003wysx13OaASk.jpg?max_age=2592000"},{id:9,title:"\u9526\u9ca4\u6284",artist:"\u94f6\u4e34",file:"http://111.202.98.145/amobile.music.tc.qq.com/C400002D10Tb467GEX.m4a?guid=2069872164&vkey=A36AF45A119947DB4D9B61AA9F528CE80E8295EC809397B47DCD9B2CC937CDD7F732B920D7C6307C3FF03248D48744CB7DB7C25CB50EDC8D&uin=0&fromtag=66",cover:"https://y.gtimg.cn/music/photo_new/T002R300x300M000000XJbln2qXmCM.jpg?max_age=2592000"},{id:10,title:"\u6843\u82b1\u51c9",artist:"\u827e\u8fb0",file:"http://111.202.98.145/amobile.music.tc.qq.com/C400000HprCT15cWJi.m4a?guid=2069872164&vkey=AC1D5A90C43BF28EDDEB23F4E6AE2C3BDDD1AAD206C8180484904BDBB44CE042BB998B5087C6A76DE0F8CEC482D0BE4CB308FCC8F41279B8&uin=0&fromtag=66",cover:"https://y.gtimg.cn/music/photo_new/T002R300x300M000000OA5rZ2lt2OL.jpg?max_age=2592000"}],d={formatTime:function(e){e=Math.floor(e);var t=Math.floor(e/60),a=Math.floor(e%60);return(t<10?"0"+t:t)+":"+(a<10?"0"+a:a)},randomRange:function(e,t){return Math.ceil(Math.random()*(t-e)+e)}},y=(a(15),function(e){function t(e){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"changeProgress",value:function(e){var t=e.target,a=(e.clientX-t.getBoundingClientRect().left)/t.clientWidth;this.props.onProgressChange&&this.props.onProgressChange(a)}},{key:"render",value:function(){return n.a.createElement("div",{className:"components-progress",ref:"progressBar",onClick:this.changeProgress.bind(this),style:{height:Number(this.props.height)+2+"px"}},n.a.createElement("div",{className:"progress",style:{width:"".concat(this.props.progress,"%"),background:this.props.barColor,height:this.props.height+"px"}}))}}]),t}(n.a.Component));y.defaultProps={barColor:"#2f9842"};var E=y,g=(a(17),a(7)),C=null,f=null,v=window.$,b=function(e){function t(e){var a;return Object(r.a)(this,t),a=Object(l.a)(this,Object(u.a)(t).call(this,e)),console.log(e),a.state={progress:0,volume:0,isPlay:!1,currentTime:"",typeList:{cycle:"icon-liebiaoxunhuan",once:"icon-danquxunhuan",random:"icon-suijibofang"}},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;v("#player").bind(v.jPlayer.event.timeupdate,function(t){C=t.jPlayer.status.duration,f=t.jPlayer.status.currentTime,e.setState({progress:t.jPlayer.status.currentPercentAbsolute,volume:100*t.jPlayer.options.volume,currentTime:d.formatTime(f),duration:d.formatTime(C)})})}},{key:"componentWillUnmount",value:function(){v("#player").unbind(v.jPlayer.event.timeupdate)}},{key:"changeProgressHandler",value:function(e){v("#player").jPlayer("play",C*e),this.setState({isPlay:!0})}},{key:"changeVolumeHandler",value:function(e){v("#player").jPlayer("volume",e)}},{key:"play",value:function(){this.state.isPlay?v("#player").jPlayer("pause"):v("#player").jPlayer("play"),this.setState({isPlay:!this.state.isPlay})}},{key:"next",value:function(){this.setState({isPlay:!0}),g.publish("PLAY_NEXT")}},{key:"prev",value:function(){this.setState({isPlay:!0}),g.publish("PLAY_PREV")}},{key:"changeRepeat",value:function(){g.publish("CHANAGE_REPEAT")}},{key:"render",value:function(){return n.a.createElement("div",{className:"player-content ".concat(this.props.showPlayer?"":"hide")},n.a.createElement("div",{className:"music-cover"},n.a.createElement("img",{src:this.props.currentMusitItem.cover,alt:this.props.currentMusitItem.title})),n.a.createElement("div",{className:"music-controll"},n.a.createElement("div",{className:"music-title"},this.props.currentMusitItem.title),n.a.createElement("div",{className:"music-artist"},n.a.createElement("i",{className:"iconfont icon-renqigeshou"}),this.props.currentMusitItem.artist),n.a.createElement("div",{className:"music-time"},n.a.createElement("i",{className:"iconfont icon-shijian"}),this.state.currentTime,"/",this.state.duration),n.a.createElement("div",{className:"music-vol-ptype"},n.a.createElement("div",{className:"volume-container"},n.a.createElement("i",{className:"iconfont icon-icon-test"}),n.a.createElement("div",{className:"volume-wrapper"},n.a.createElement(E,{progress:this.state.volume,onProgressChange:this.changeVolumeHandler.bind(this),barColor:"#636de6",height:"5"}))),n.a.createElement("div",{className:"play-type"},n.a.createElement("i",{className:"iconfont repeatType ".concat(this.state.typeList[this.props.repeatType]),onClick:this.changeRepeat.bind(this)}),n.a.createElement("i",{className:"iconfont icon-bofangqi_shouyegequliebiao_ music-list",onClick:this.props.showPlayerHander.bind(this,!1)}))),n.a.createElement("div",{className:"music-progress"},n.a.createElement(E,{progress:this.state.progress,onProgressChange:this.changeProgressHandler.bind(this)})),n.a.createElement("div",{className:"music-ctrl"},n.a.createElement("i",{className:"iconfont icon-yduishangyiqu",onClick:this.prev.bind(this)}),n.a.createElement("i",{className:"iconfont ".concat(this.state.isPlay?"icon-zanting":"icon-yduibofang"),onClick:this.play.bind(this)}),n.a.createElement("i",{className:"iconfont icon-yduixiayiqu",onClick:this.next.bind(this)}))))}}]),t}(n.a.Component);a(20);var A=a(7),D=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"deleteHandler",value:function(e,t){t.stopPropagation(),A.publish("DEL_MUSIC",e)}},{key:"playMusic",value:function(e,t){A.publish("PLAY_MUSIC",e)}},{key:"render",value:function(){var e=this.props.data;return n.a.createElement("li",{className:"song-item ".concat(this.props.focus?" focus":""),onClick:this.playMusic.bind(this,e)},n.a.createElement("div",{className:"text"},n.a.createElement("div",{className:"song-cover"},n.a.createElement("img",{src:e.cover,alt:e.title})),n.a.createElement("div",{className:"song-title"},e.title),"-",n.a.createElement("div",{className:"song-artist"}),e.artist),n.a.createElement("i",{className:"iconfont icon-del delete",onClick:this.deleteHandler.bind(this,e)}))}}]),t}(n.a.Component),B=(a(22),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.musicList.map(function(t){return n.a.createElement(D,{key:t.id,data:t,focus:e.props.currentMusitItem===t})});return n.a.createElement("div",{className:"list-wrap ".concat(this.props.showPlayer?"hide":"")},n.a.createElement("div",{className:"list-title"},n.a.createElement("div",{className:"iconfont icon-fanhui1 back-palyer",onClick:this.props.showPlayerHander.bind(this,!0)}),n.a.createElement("div",{className:"text"},"\u6b4c\u66f2\u5217\u8868")),n.a.createElement("ul",{className:"music-song-list"},t))}}]),t}(n.a.Component)),F=(a(24),function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"componetns-header"},n.a.createElement("i",{className:"col-auto iconfont  icon-music logo"}),n.a.createElement("h1",{className:"caption"},"React Music Player"))}}]),t}(n.a.Component)),P=a(7),j=window.$,k=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={musicList:p,currentMusitItem:{},repeatType:"cycle",showPlayer:!0,showPlayerHander:a.showPlayerHander.bind(Object(h.a)(Object(h.a)(a)))},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=["cycle","once","random"];j("#player").jPlayer({supplied:"mp3,m4a",wmode:"window",useStateClassSkin:!0}),this.playMusic(this.state.musicList[0]),j("#player").bind(j.jPlayer.event.ended,function(t){e.playWhenEnd()}),P.subscribe("PLAY_MUSIC",function(t,a){e.playMusic(a)}),P.subscribe("DEL_MUSIC",function(t,a){e.setState({musicList:e.state.musicList.filter(function(e){return e!==a})})}),P.subscribe("PLAY_NEXT",function(){e.playNext()}),P.subscribe("PLAY_PREV",function(){e.playNext("prev")}),P.subscribe("CHANAGE_REPEAT",function(){var a=t.indexOf(e.state.repeatType);a=(a+1)%t.length,e.setState({repeatType:t[a]})})}},{key:"componentWillUnmount",value:function(){P.unsubscribe("PLAY_MUSIC"),P.unsubscribe("DEL_MUSIC"),P.unsubscribe("CHANAGE_REPEAT"),P.unsubscribe("PLAY_NEXT"),P.unsubscribe("PLAY_PREV")}},{key:"playWhenEnd",value:function(){if("random"===this.state.repeatType){for(var e=this.findMusicIndex(this.state.currentMusitItem),t=d.randomRange(0,this.state.musicList.length-1);t===e;)t=d.randomRange(0,this.state.musicList.length-1);this.playMusic(this.state.musicList[t])}else"once"===this.state.repeatType?this.playMusic(this.state.currentMusitItem):this.playNext()}},{key:"playNext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"next",t=this.findMusicIndex(this.state.currentMusitItem);t="next"===e?(t+1)%this.state.musicList.length:(t+this.state.musicList.length-1)%this.state.musicList.length;var a=this.state.musicList[t];this.setState({currentMusitItem:a}),this.playMusic(a)}},{key:"findMusicIndex",value:function(e){var t=this.state.musicList.indexOf(e);return Math.max(0,t)}},{key:"playMusic",value:function(e){j("#player").jPlayer("setMedia",{mp3:e.file,autoPlay:!1}).jPlayer("play"),this.setState({currentMusitItem:e})}},{key:"showPlayerHander",value:function(e){this.setState({showPlayer:e})}},{key:"render",value:function(){return n.a.createElement("div",{className:"container"},n.a.createElement("div",{id:"player"}),n.a.createElement(F,null),n.a.createElement("div",{className:"player-page"},n.a.createElement(b,Object.assign({},this.state,{showPlayerHander:this.state.showPlayerHander})),n.a.createElement(B,Object.assign({},this.state,{showPlayerHander:this.state.showPlayerHander}))))}}]),t}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(26),a(28),a(30);c.a.render(n.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[10,2,1]]]);
//# sourceMappingURL=main.d0c18721.chunk.js.map